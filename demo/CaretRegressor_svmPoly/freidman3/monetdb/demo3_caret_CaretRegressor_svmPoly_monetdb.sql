-- This SQL code was generated by sklearn2sql (development version).
-- Copyright 2018

-- Model : CaretRegressor_svmPoly
-- Dataset : freidman3
-- Database : monetdb


-- This SQL code can contain one or more statements, to be executed in the order they appear in this file.



-- Model deployment code

WITH kernel_input_with_scaling AS 
(SELECT "ADS"."KEY" AS "KEY", (CAST("ADS"."Feature_0" AS DOUBLE) - 43.791281222074) / 26.1998878150635 AS "Feature_0", (CAST("ADS"."Feature_1" AS DOUBLE) - 945.96728330844) / 464.3666952541536 AS "Feature_1", (CAST("ADS"."Feature_2" AS DOUBLE) - 0.5310009099975209) / 0.2920171749459157 AS "Feature_2", (CAST("ADS"."Feature_3" AS DOUBLE) - 6.139967152050498) / 3.0923049253819994 AS "Feature_3" 
FROM freidman3 AS "ADS"), 
"SV_data" AS 
(SELECT "Values".sv_idx AS sv_idx, "Values".dual_coeff AS dual_coeff, "Values".sv_0 AS sv_0, "Values".sv_1 AS sv_1, "Values".sv_2 AS sv_2, "Values".sv_3 AS sv_3 
FROM (SELECT 0 AS sv_idx, -1.0 AS dual_coeff, -0.12782307796584916 AS sv_0, -0.8503971026347198 AS sv_1, -1.6859904237278465 AS sv_2, -0.5050895326574296 AS sv_3 UNION ALL SELECT 1 AS sv_idx, -1.0 AS dual_coeff, -0.21152729584795466 AS sv_0, -1.7444439677525907 AS sv_1, 0.4004397884124832 AS sv_2, -1.280761716963789 AS sv_3 UNION ALL SELECT 2 AS sv_idx, -1.0 AS dual_coeff, 0.2606505517419123 AS sv_0, -1.1491857713604607 AS sv_1, -1.460611402459679 AS sv_2, -1.052479326928032 AS sv_3 UNION ALL SELECT 3 AS sv_idx, 1.0 AS dual_coeff, -1.3271083980674663 AS sv_0, -0.9681552144848872 AS sv_1, -0.36931753289215297 AS sv_2, 0.7762082793822555 AS sv_3 UNION ALL SELECT 4 AS sv_idx, 1.0 AS dual_coeff, 1.477576202804345 AS sv_0, -0.9271264867595896 AS sv_1, 0.009704247466632536 AS sv_2, -0.4375335070800741 AS sv_3 UNION ALL SELECT 5 AS sv_idx, -0.4686983470114855 AS dual_coeff, 2.1441062194703595 AS sv_0, -1.5860201052988996 AS sv_1, 0.887640633884356 AS sv_2, -1.4027307340509194 AS sv_3 UNION ALL SELECT 6 AS sv_idx, -0.10995501585489263 AS dual_coeff, -1.4312471633180324 AS sv_0, 0.5463310590653604 AS sv_1, 0.9349066509232152 AS sv_2, -0.20997937151655952 AS sv_3 UNION ALL SELECT 7 AS sv_idx, -1.0 AS dual_coeff, 0.7297966940855642 AS sv_0, -1.0546257130717192 AS sv_1, -1.6324213800380483 AS sv_2, 1.2758491111612755 AS sv_3 UNION ALL SELECT 8 AS sv_idx, -1.0 AS dual_coeff, -0.18411878423931247 AS sv_0, 0.4670017978456244 AS sv_1, -1.7720973589464624 AS sv_2, 0.2072268552988088 AS sv_3 UNION ALL SELECT 9 AS sv_idx, 0.959383981806732 AS dual_coeff, 0.6826754233314936 AS sv_0, -0.2721679688607297 AS sv_1, -1.161707552508324 AS sv_2, 0.7552985898220035 AS sv_3 UNION ALL SELECT 10 AS sv_idx, -1.0 AS dual_coeff, -1.1235642146527816 AS sv_0, 1.6831962197372268 AS sv_1, -1.7985020645272318 AS sv_2, -0.8477663172082077 AS sv_3 UNION ALL SELECT 11 AS sv_idx, 1.0 AS dual_coeff, 1.6667800581458547 AS sv_0, -0.6183101662033021 AS sv_1, -0.7810149971816369 AS sv_2, -0.767384669273583 AS sv_3 UNION ALL SELECT 12 AS sv_idx, 0.06384621194200603 AS dual_coeff, -1.4593802161589062 AS sv_0, 0.7018378149519552 AS sv_1, -0.9101131840730574 AS sv_2, -1.2754210367439045 AS sv_3 UNION ALL SELECT 13 AS sv_idx, 0.8777166668852192 AS dual_coeff, -0.13407363073193884 AS sv_0, -1.2484766986547693 AS sv_1, 1.5947158390479141 AS sv_2, -1.4497212689408288 AS sv_3 UNION ALL SELECT 14 AS sv_idx, -0.07615946946783363 AS dual_coeff, 0.6411220484196439 AS sv_0, 1.1281510018558745 AS sv_1, 0.26693740474024635 AS sv_2, -1.2298826895146424 AS sv_3 UNION ALL SELECT 15 AS sv_idx, -0.24905096163172974 AS dual_coeff, 2.010032312501274 AS sv_0, 0.09530861930129077 AS sv_1, -1.1913671710570366 AS sv_2, -1.618815287158773 AS sv_3 UNION ALL SELECT 16 AS sv_idx, -0.15459616261517348 AS dual_coeff, 0.9946938352219382 AS sv_0, 1.492696939628282 AS sv_1, -0.3469838908117189 AS sv_2, 0.4282157274143781 AS sv_3 UNION ALL SELECT 17 AS sv_idx, 0.43133831777140175 AS dual_coeff, -0.17431668183364954 AS sv_0, 1.1501017450587885 AS sv_1, 1.5363842711868212 AS sv_2, 1.551694080146041 AS sv_3 UNION ALL SELECT 18 AS sv_idx, 0.482270528555857 AS dual_coeff, 0.4817765801022509 AS sv_0, -1.2711686162379983 AS sv_1, 1.0632281967706563 AS sv_2, 1.1966669970792532 AS sv_3 UNION ALL SELECT 19 AS sv_idx, -0.02227697628614069 AS dual_coeff, 0.21406979439593116 AS sv_0, -1.5118055059174604 AS sv_1, -0.4015281963864979 AS sv_2, -0.039017517211154665 AS sv_3 UNION ALL SELECT 20 AS sv_idx, -1.0 AS dual_coeff, -1.0864384290982352 AS sv_0, -1.6483271949983813 AS sv_1, 0.6144078655656166 AS sv_2, 1.1229003779563531 AS sv_3 UNION ALL SELECT 21 AS sv_idx, 0.5744087438338498 AS dual_coeff, 1.0970537231905186 AS sv_0, -1.1637961400737291 AS sv_1, 0.1368610720655398 AS sv_2, 0.2696693980106513 AS sv_3 UNION ALL SELECT 22 AS sv_idx, 1.0 AS dual_coeff, -0.5000185056309808 AS sv_0, 0.6748373765105417 AS sv_1, -0.9220970631704556 AS sv_2, -0.08831240284391073 AS sv_3 UNION ALL SELECT 23 AS sv_idx, 0.922553020908834 AS dual_coeff, -1.2164497979438715 AS sv_0, 1.503310417535894 AS sv_1, -1.665981445490253 AS sv_2, -1.3456333509575589 AS sv_3 UNION ALL SELECT 24 AS sv_idx, -0.018959931838042118 AS dual_coeff, -0.65853839397246 AS sv_0, 0.4734713679176543 AS sv_1, 0.18031379770736736 AS sv_2, -1.168839753970359 AS sv_3 UNION ALL SELECT 25 AS sv_idx, 1.0 AS dual_coeff, -0.0265344430722154 AS sv_0, -0.0283631248134526 AS sv_1, -0.739570601711903 AS sv_2, 0.16082809124136166 AS sv_3 UNION ALL SELECT 26 AS sv_idx, 1.0 AS dual_coeff, -1.3445193007126655 AS sv_0, 0.476367891619324 AS sv_1, -1.0814171294453323 AS sv_2, 1.4174747937922738 AS sv_3 UNION ALL SELECT 27 AS sv_idx, -1.0 AS dual_coeff, 1.248222153817392 AS sv_0, -1.5636307162426029 AS sv_1, 0.8019197781960634 AS sv_2, 0.18477273030127928 AS sv_3 UNION ALL SELECT 28 AS sv_idx, -1.0 AS dual_coeff, -0.08429331712502666 AS sv_0, -1.0999319759856232 AS sv_1, -1.4761017015390492 AS sv_2, -1.1829469095899825 AS sv_3 UNION ALL SELECT 29 AS sv_idx, 1.0 AS dual_coeff, -1.6140966135148043 AS sv_0, -1.7643768278128538 AS sv_1, -0.6526951695405658 AS sv_2, 1.1878103980702412 AS sv_3 UNION ALL SELECT 30 AS sv_idx, -1.0 AS dual_coeff, -1.0603027345726208 AS sv_0, -0.7477287119197085 AS sv_1, -1.6186493290430493 AS sv_2, 1.2695784995912052 AS sv_3 UNION ALL SELECT 31 AS sv_idx, -1.0 AS dual_coeff, -1.306038787142802 AS sv_0, 0.2266223683034748 AS sv_1, 0.3037839265673539 AS sv_2, 0.7057290276196071 AS sv_3 UNION ALL SELECT 32 AS sv_idx, -0.8848935579867062 AS dual_coeff, -1.5606416440353499 AS sv_0, 0.3056175491951755 AS sv_1, -0.341654714080915 AS sv_2, 1.2672600790629271 AS sv_3 UNION ALL SELECT 33 AS sv_idx, -0.4258147137915896 AS dual_coeff, 1.7557755480064199 AS sv_0, 0.962684681824095 AS sv_1, 1.0869930076042431 AS sv_2, 1.0379200088920848 AS sv_3 UNION ALL SELECT 34 AS sv_idx, 0.0988876647796932 AS dual_coeff, 1.3069659327192835 AS sv_0, 0.18630106914955127 AS sv_1, 1.5113442172696083 AS sv_2, -1.5876587304789196 AS sv_3 UNION ALL SELECT 35 AS sv_idx, 1.0 AS dual_coeff, 0.16613621334490802 AS sv_0, -0.3981922001971783 AS sv_1, -0.7654272731239506 AS sv_2, -1.6133263333529493 AS sv_3 UNION ALL SELECT 36 AS sv_idx, 1.0 AS dual_coeff, -0.9172782517703172 AS sv_0, -1.4509035319107564 AS sv_1, -0.2786390833534205 AS sv_2, -1.3827993897154927 AS sv_3 UNION ALL SELECT 37 AS sv_idx, -1.0 AS dual_coeff, -0.379139513858032 AS sv_0, 0.21256401016685286 AS sv_1, 0.751116144040438 AS sv_2, -1.5580393682099034 AS sv_3 UNION ALL SELECT 38 AS sv_idx, 1.0 AS dual_coeff, -0.983380385417142 AS sv_0, -0.18235220597772892 AS sv_1, -1.4685459931960436 AS sv_2, 0.2129505388767858 AS sv_3) AS "Values"), 
kernel_dp AS 
(SELECT t."KEY" AS "KEY", t.dot_product AS dot_product 
FROM (SELECT full_join_data_sv."KEY" AS "KEY", sum(CAST(full_join_data_sv.dot_prod1 AS DOUBLE)) + 0.44032260879547 AS dot_product 
FROM (SELECT kernel_input_with_scaling."KEY" AS "KEY", "SV_data".dual_coeff * power(0.1 * (kernel_input_with_scaling."Feature_0" * "SV_data".sv_0 + kernel_input_with_scaling."Feature_1" * "SV_data".sv_1 + kernel_input_with_scaling."Feature_2" * "SV_data".sv_2 + kernel_input_with_scaling."Feature_3" * "SV_data".sv_3) + 1.0, 3.0) AS dot_prod1 
FROM kernel_input_with_scaling, "SV_data") AS full_join_data_sv GROUP BY full_join_data_sv."KEY") AS t)
 SELECT kernel_dp."KEY" AS "KEY", 1.3612342030259188 + 0.2740412358892127 * kernel_dp.dot_product AS "Estimator" 
FROM kernel_dp