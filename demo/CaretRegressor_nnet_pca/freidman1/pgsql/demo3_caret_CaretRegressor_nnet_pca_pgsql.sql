-- This SQL code was generated by sklearn2sql (development version).
-- Copyright 2018

-- Model : CaretRegressor_nnet_pca
-- Dataset : freidman1
-- Database : pgsql


-- This SQL code can contain one or more statements, to be executed in the order they appear in this file.



-- Model deployment code

WITH "CenteredDataForPCA" AS 
(SELECT "ADS"."KEY" AS "KEY", (CAST("ADS"."Feature_0" AS FLOAT) - 0.5629846484809589) / 0.2600015884118536 AS "Feature_0", (CAST("ADS"."Feature_1" AS FLOAT) - 0.4560644242337592) / 0.2896884193099619 AS "Feature_1", (CAST("ADS"."Feature_2" AS FLOAT) - 0.4711381748147476) / 0.3128833495879441 AS "Feature_2", (CAST("ADS"."Feature_3" AS FLOAT) - 0.5339680200945178) / 0.2844030958277151 AS "Feature_3", (CAST("ADS"."Feature_4" AS FLOAT) - 0.478093626237387) / 0.2879458120111227 AS "Feature_4", (CAST("ADS"."Feature_5" AS FLOAT) - 0.5682849224172328) / 0.2995521696075025 AS "Feature_5", (CAST("ADS"."Feature_6" AS FLOAT) - 0.4791437471428049) / 0.2752572650336402 AS "Feature_6", (CAST("ADS"."Feature_7" AS FLOAT) - 0.4594152477223208) / 0.2890235713417702 AS "Feature_7", (CAST("ADS"."Feature_8" AS FLOAT) - 0.4901106996809652) / 0.2808092486405501 AS "Feature_8", (CAST("ADS"."Feature_9" AS FLOAT) - 0.5378806933707535) / 0.297685615548656 AS "Feature_9" 
FROM freidman1 AS "ADS"), 
"ADS_car_1_OUT" AS 
(SELECT "CenteredDataForPCA"."KEY" AS "KEY", "CenteredDataForPCA"."Feature_0" * 0.01078044206398687 + "CenteredDataForPCA"."Feature_1" * 0.20275672425035265 + "CenteredDataForPCA"."Feature_2" * -0.3032095959115069 + "CenteredDataForPCA"."Feature_3" * 0.28036946451509137 + "CenteredDataForPCA"."Feature_4" * -0.456472170133784 + "CenteredDataForPCA"."Feature_5" * 0.36405052299186 + "CenteredDataForPCA"."Feature_6" * -0.4779398415021841 + "CenteredDataForPCA"."Feature_7" * -0.2499537237134235 + "CenteredDataForPCA"."Feature_8" * -0.08553249751289721 + "CenteredDataForPCA"."Feature_9" * -0.38614972165398104 AS caress_2, "CenteredDataForPCA"."Feature_0" * -0.2486501060343723 + "CenteredDataForPCA"."Feature_1" * 0.18538688464371286 + "CenteredDataForPCA"."Feature_2" * -0.2340911061275425 + "CenteredDataForPCA"."Feature_3" * -0.5312215967757172 + "CenteredDataForPCA"."Feature_4" * -0.034157117099708666 + "CenteredDataForPCA"."Feature_5" * -0.11403009160110295 + "CenteredDataForPCA"."Feature_6" * 0.03913846092020175 + "CenteredDataForPCA"."Feature_7" * -0.3193281863661248 + "CenteredDataForPCA"."Feature_8" * 0.6497321497824414 + "CenteredDataForPCA"."Feature_9" * -0.16427431415508242 AS caress_3, "CenteredDataForPCA"."Feature_0" * 0.529444486853135 + "CenteredDataForPCA"."Feature_1" * -0.042432305775754416 + "CenteredDataForPCA"."Feature_2" * -0.467456082445249 + "CenteredDataForPCA"."Feature_3" * -0.12113349070226218 + "CenteredDataForPCA"."Feature_4" * 0.3516615435966041 + "CenteredDataForPCA"."Feature_5" * 0.05456396920784263 + "CenteredDataForPCA"."Feature_6" * -0.0169721401066592 + "CenteredDataForPCA"."Feature_7" * 0.44796273797836184 + "CenteredDataForPCA"."Feature_8" * 0.09951231655089274 + "CenteredDataForPCA"."Feature_9" * -0.3836601176822301 AS caress_4, "CenteredDataForPCA"."Feature_0" * 0.18967062357660877 + "CenteredDataForPCA"."Feature_1" * -0.6739997429415825 + "CenteredDataForPCA"."Feature_2" * -0.05142756480300252 + "CenteredDataForPCA"."Feature_3" * -0.4240887569157897 + "CenteredDataForPCA"."Feature_4" * -0.1753617554170441 + "CenteredDataForPCA"."Feature_5" * -0.23730999119190946 + "CenteredDataForPCA"."Feature_6" * -0.3492917073303225 + "CenteredDataForPCA"."Feature_7" * -0.24015917199949824 + "CenteredDataForPCA"."Feature_8" * -0.24578721855897134 + "CenteredDataForPCA"."Feature_9" * 0.009647497508173676 AS caress_5, "CenteredDataForPCA"."Feature_0" * 0.22360120393586685 + "CenteredDataForPCA"."Feature_1" * -0.27882706563202 + "CenteredDataForPCA"."Feature_2" * 0.3325159145316829 + "CenteredDataForPCA"."Feature_3" * 0.03231293124673378 + "CenteredDataForPCA"."Feature_4" * 0.31176328828301664 + "CenteredDataForPCA"."Feature_5" * 0.5846343873278481 + "CenteredDataForPCA"."Feature_6" * 0.2256344434749018 + "CenteredDataForPCA"."Feature_7" * -0.4544239404125063 + "CenteredDataForPCA"."Feature_8" * 0.13999262235747426 + "CenteredDataForPCA"."Feature_9" * -0.21128970950531886 AS caress_6, "CenteredDataForPCA"."Feature_0" * 0.3346351973554642 + "CenteredDataForPCA"."Feature_1" * 0.0673786411182812 + "CenteredDataForPCA"."Feature_2" * 0.2578168786971707 + "CenteredDataForPCA"."Feature_3" * 0.1264276445937259 + "CenteredDataForPCA"."Feature_4" * -0.40729831882959366 + "CenteredDataForPCA"."Feature_5" * -0.455689833219327 + "CenteredDataForPCA"."Feature_6" * 0.4311593109248494 + "CenteredDataForPCA"."Feature_7" * -0.10623939522740035 + "CenteredDataForPCA"."Feature_8" * 0.004192902519120928 + "CenteredDataForPCA"."Feature_9" * -0.4798729265184412 AS caress_7, "CenteredDataForPCA"."Feature_0" * 0.5345631681819778 + "CenteredDataForPCA"."Feature_1" * 0.2916209104051029 + "CenteredDataForPCA"."Feature_2" * 0.4273963159452305 + "CenteredDataForPCA"."Feature_3" * -0.2195301363042834 + "CenteredDataForPCA"."Feature_4" * -0.235065733216965 + "CenteredDataForPCA"."Feature_5" * 0.1295961010443568 + "CenteredDataForPCA"."Feature_6" * -0.3373404838354823 + "CenteredDataForPCA"."Feature_7" * 0.1550843553371763 + "CenteredDataForPCA"."Feature_8" * 0.2854751024551945 + "CenteredDataForPCA"."Feature_9" * 0.3270191591377724 AS caress_8, "CenteredDataForPCA"."Feature_0" * -0.20576264031153954 + "CenteredDataForPCA"."Feature_1" * -0.5219691737923294 + "CenteredDataForPCA"."Feature_2" * 0.13684123672633966 + "CenteredDataForPCA"."Feature_3" * 0.3647679678800135 + "CenteredDataForPCA"."Feature_4" * -0.18929276198960268 + "CenteredDataForPCA"."Feature_5" * 0.0037962585710036296 + "CenteredDataForPCA"."Feature_6" * -0.13849968946919305 + "CenteredDataForPCA"."Feature_7" * 0.3714994807284352 + "CenteredDataForPCA"."Feature_8" * 0.5761692179637907 + "CenteredDataForPCA"."Feature_9" * -0.09174729308329248 AS caress_9, "CenteredDataForPCA"."Feature_0" * -0.3524341935895437 + "CenteredDataForPCA"."Feature_1" * 0.11384280389407207 + "CenteredDataForPCA"."Feature_2" * 0.4841685255065708 + "CenteredDataForPCA"."Feature_3" * -0.34450396457185595 + "CenteredDataForPCA"."Feature_4" * 0.13513638852787307 + "CenteredDataForPCA"."Feature_5" * 0.06196615865484219 + "CenteredDataForPCA"."Feature_6" * -0.2481760916688339 + "CenteredDataForPCA"."Feature_7" * 0.3131431762405683 + "CenteredDataForPCA"."Feature_8" * -0.22130097895655432 + "CenteredDataForPCA"."Feature_9" * -0.5282064175883499 AS caress_10, "CenteredDataForPCA"."Feature_0" * -0.08652385384586475 + "CenteredDataForPCA"."Feature_1" * -0.12532393280326345 + "CenteredDataForPCA"."Feature_2" * -0.13876829299587293 + "CenteredDataForPCA"."Feature_3" * -0.3573678421296348 + "CenteredDataForPCA"."Feature_4" * -0.5134307179316465 + "CenteredDataForPCA"."Feature_5" * 0.4744166307312994 + "CenteredDataForPCA"."Feature_6" * 0.4651532505092017 + "CenteredDataForPCA"."Feature_7" * 0.3151126875978981 + "CenteredDataForPCA"."Feature_8" * -0.13476508291102593 + "CenteredDataForPCA"."Feature_9" * 0.08562534266381946 AS caress_11 
FROM "CenteredDataForPCA"), 
"IL" AS 
(SELECT "ADS_car_1_OUT"."KEY" AS "KEY", CAST("ADS_car_1_OUT".caress_2 AS FLOAT) AS caress_2, CAST("ADS_car_1_OUT".caress_3 AS FLOAT) AS caress_3, CAST("ADS_car_1_OUT".caress_4 AS FLOAT) AS caress_4, CAST("ADS_car_1_OUT".caress_5 AS FLOAT) AS caress_5, CAST("ADS_car_1_OUT".caress_6 AS FLOAT) AS caress_6, CAST("ADS_car_1_OUT".caress_7 AS FLOAT) AS caress_7, CAST("ADS_car_1_OUT".caress_8 AS FLOAT) AS caress_8, CAST("ADS_car_1_OUT".caress_9 AS FLOAT) AS caress_9, CAST("ADS_car_1_OUT".caress_10 AS FLOAT) AS caress_10, CAST("ADS_car_1_OUT".caress_11 AS FLOAT) AS caress_11 
FROM "ADS_car_1_OUT"), 
"HL_BA_1" AS 
(SELECT "IL"."KEY" AS "KEY", 0.2678049 * "IL".caress_2 + -0.3688436 * "IL".caress_3 + 0.2509103 * "IL".caress_4 + -0.9226328 * "IL".caress_5 + -0.08699755 * "IL".caress_6 + 0.1429075 * "IL".caress_7 + 0.2177893 * "IL".caress_8 + -0.3875863 * "IL".caress_9 + -0.1739585 * "IL".caress_10 + -0.6884867 * "IL".caress_11 + 0.6754241 AS "NEUR_1_1" 
FROM "IL"), 
"HL_1_logistic" AS 
(SELECT "HL_BA_1"."KEY" AS "KEY", 1.0 / (1.0 + exp(least(100.0, greatest(-100.0, -"HL_BA_1"."NEUR_1_1")))) AS "NEUR_1_1" 
FROM "HL_BA_1"), 
"HL_1_logistic_1" AS 
(SELECT "HL_1_logistic"."KEY" AS "KEY", "HL_1_logistic"."NEUR_1_1" AS "NEUR_1_1" 
FROM "HL_1_logistic"), 
"OL_BA" AS 
(SELECT "HL_1_logistic_1"."KEY" AS "KEY", 17.55576 * "HL_1_logistic_1"."NEUR_1_1" + 4.473396 AS "NEUR_2_1" 
FROM "HL_1_logistic_1"), 
"OL_identity" AS 
(SELECT "OL_BA"."KEY" AS "KEY", "OL_BA"."NEUR_2_1" AS "NEUR_2_1" 
FROM "OL_BA"), 
"OL_identity_1" AS 
(SELECT "OL_identity"."KEY" AS "KEY", "OL_identity"."NEUR_2_1" AS "NEUR_2_1" 
FROM "OL_identity")
 SELECT "OL_identity_1"."KEY" AS "KEY", "OL_identity_1"."NEUR_2_1" AS "Estimator" 
FROM "OL_identity_1"