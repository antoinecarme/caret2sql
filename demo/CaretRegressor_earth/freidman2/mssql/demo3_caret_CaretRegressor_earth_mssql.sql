-- This SQL code was generated by sklearn2sql (development version).
-- Copyright 2018

-- Model : CaretRegressor_earth
-- Dataset : freidman2
-- Database : mssql


-- This SQL code can contain one or more statements, to be executed in the order they appear in this file.



-- Model deployment code

WITH earth_input AS 
(SELECT [ADS].[KEY] AS [KEY], CAST([ADS].[Feature_0] AS FLOAT(53)) AS [Feature_0], CAST([ADS].[Feature_1] AS FLOAT(53)) AS [Feature_1], CAST([ADS].[Feature_2] AS FLOAT(53)) AS [Feature_2], CAST([ADS].[Feature_3] AS FLOAT(53)) AS [Feature_3] 
FROM freidman2 AS [ADS]), 
earth_model_cte AS 
(SELECT earth_input.[KEY] AS [KEY], 848.3683091213838 * CASE WHEN (earth_input.[Feature_2] - 0.5671724252803599 <= 0) THEN 0 ELSE earth_input.[Feature_2] - 0.5671724252803599 END + -1063.9458876606154 * CASE WHEN (0.5671724252803599 - earth_input.[Feature_2] <= 0) THEN 0 ELSE 0.5671724252803599 - earth_input.[Feature_2] END + -1.645374936719103 * CASE WHEN (earth_input.[Feature_1] - 435.195506615625 <= 0) THEN 0 ELSE earth_input.[Feature_1] - 435.195506615625 END + 2.06166810059231 * CASE WHEN (earth_input.[Feature_1] - 303.1369476103539 <= 0) THEN 0 ELSE earth_input.[Feature_1] - 303.1369476103539 END + 102.07665401528986 AS [Estimator] 
FROM earth_input)
 SELECT earth_model_cte.[KEY] AS [KEY], earth_model_cte.[Estimator] AS [Estimator] 
FROM earth_model_cte