-- This SQL code was generated by sklearn2sql (development version).
-- Copyright 2018

-- Model : CaretRegressor_glmnet_pca
-- Dataset : freidman1
-- Database : mysql


-- This SQL code can contain one or more statements, to be executed in the order they appear in this file.



-- Model deployment code

WITH `CenteredDataForPCA` AS 
(SELECT `ADS`.`KEY` AS `KEY`, (CAST(`ADS`.`Feature_0` AS DOUBLE) - 0.5629846484809589) / 0.2600015884118536 AS `Feature_0`, (CAST(`ADS`.`Feature_1` AS DOUBLE) - 0.4560644242337592) / 0.2896884193099619 AS `Feature_1`, (CAST(`ADS`.`Feature_2` AS DOUBLE) - 0.4711381748147476) / 0.3128833495879441 AS `Feature_2`, (CAST(`ADS`.`Feature_3` AS DOUBLE) - 0.5339680200945178) / 0.2844030958277151 AS `Feature_3`, (CAST(`ADS`.`Feature_4` AS DOUBLE) - 0.478093626237387) / 0.2879458120111227 AS `Feature_4`, (CAST(`ADS`.`Feature_5` AS DOUBLE) - 0.5682849224172328) / 0.2995521696075025 AS `Feature_5`, (CAST(`ADS`.`Feature_6` AS DOUBLE) - 0.4791437471428049) / 0.2752572650336402 AS `Feature_6`, (CAST(`ADS`.`Feature_7` AS DOUBLE) - 0.4594152477223208) / 0.2890235713417702 AS `Feature_7`, (CAST(`ADS`.`Feature_8` AS DOUBLE) - 0.4901106996809652) / 0.2808092486405501 AS `Feature_8`, (CAST(`ADS`.`Feature_9` AS DOUBLE) - 0.5378806933707535) / 0.297685615548656 AS `Feature_9` 
FROM freidman1 AS `ADS`), 
`ADS_car_1_OUT` AS 
(SELECT `CenteredDataForPCA`.`KEY` AS `KEY`, `CenteredDataForPCA`.`Feature_0` * 0.01078044206398687 + `CenteredDataForPCA`.`Feature_1` * 0.20275672425035265 + `CenteredDataForPCA`.`Feature_2` * -0.3032095959115069 + `CenteredDataForPCA`.`Feature_3` * 0.28036946451509137 + `CenteredDataForPCA`.`Feature_4` * -0.456472170133784 + `CenteredDataForPCA`.`Feature_5` * 0.36405052299186 + `CenteredDataForPCA`.`Feature_6` * -0.4779398415021841 + `CenteredDataForPCA`.`Feature_7` * -0.2499537237134235 + `CenteredDataForPCA`.`Feature_8` * -0.08553249751289721 + `CenteredDataForPCA`.`Feature_9` * -0.38614972165398104 AS caress_2, `CenteredDataForPCA`.`Feature_0` * -0.2486501060343723 + `CenteredDataForPCA`.`Feature_1` * 0.18538688464371286 + `CenteredDataForPCA`.`Feature_2` * -0.2340911061275425 + `CenteredDataForPCA`.`Feature_3` * -0.5312215967757172 + `CenteredDataForPCA`.`Feature_4` * -0.034157117099708666 + `CenteredDataForPCA`.`Feature_5` * -0.11403009160110295 + `CenteredDataForPCA`.`Feature_6` * 0.03913846092020175 + `CenteredDataForPCA`.`Feature_7` * -0.3193281863661248 + `CenteredDataForPCA`.`Feature_8` * 0.6497321497824414 + `CenteredDataForPCA`.`Feature_9` * -0.16427431415508242 AS caress_3, `CenteredDataForPCA`.`Feature_0` * 0.529444486853135 + `CenteredDataForPCA`.`Feature_1` * -0.042432305775754416 + `CenteredDataForPCA`.`Feature_2` * -0.467456082445249 + `CenteredDataForPCA`.`Feature_3` * -0.12113349070226218 + `CenteredDataForPCA`.`Feature_4` * 0.3516615435966041 + `CenteredDataForPCA`.`Feature_5` * 0.05456396920784263 + `CenteredDataForPCA`.`Feature_6` * -0.0169721401066592 + `CenteredDataForPCA`.`Feature_7` * 0.44796273797836184 + `CenteredDataForPCA`.`Feature_8` * 0.09951231655089274 + `CenteredDataForPCA`.`Feature_9` * -0.3836601176822301 AS caress_4, `CenteredDataForPCA`.`Feature_0` * 0.18967062357660877 + `CenteredDataForPCA`.`Feature_1` * -0.6739997429415825 + `CenteredDataForPCA`.`Feature_2` * -0.05142756480300252 + `CenteredDataForPCA`.`Feature_3` * -0.4240887569157897 + `CenteredDataForPCA`.`Feature_4` * -0.1753617554170441 + `CenteredDataForPCA`.`Feature_5` * -0.23730999119190946 + `CenteredDataForPCA`.`Feature_6` * -0.3492917073303225 + `CenteredDataForPCA`.`Feature_7` * -0.24015917199949824 + `CenteredDataForPCA`.`Feature_8` * -0.24578721855897134 + `CenteredDataForPCA`.`Feature_9` * 0.009647497508173676 AS caress_5, `CenteredDataForPCA`.`Feature_0` * 0.22360120393586685 + `CenteredDataForPCA`.`Feature_1` * -0.27882706563202 + `CenteredDataForPCA`.`Feature_2` * 0.3325159145316829 + `CenteredDataForPCA`.`Feature_3` * 0.03231293124673378 + `CenteredDataForPCA`.`Feature_4` * 0.31176328828301664 + `CenteredDataForPCA`.`Feature_5` * 0.5846343873278481 + `CenteredDataForPCA`.`Feature_6` * 0.2256344434749018 + `CenteredDataForPCA`.`Feature_7` * -0.4544239404125063 + `CenteredDataForPCA`.`Feature_8` * 0.13999262235747426 + `CenteredDataForPCA`.`Feature_9` * -0.21128970950531886 AS caress_6, `CenteredDataForPCA`.`Feature_0` * 0.3346351973554642 + `CenteredDataForPCA`.`Feature_1` * 0.0673786411182812 + `CenteredDataForPCA`.`Feature_2` * 0.2578168786971707 + `CenteredDataForPCA`.`Feature_3` * 0.1264276445937259 + `CenteredDataForPCA`.`Feature_4` * -0.40729831882959366 + `CenteredDataForPCA`.`Feature_5` * -0.455689833219327 + `CenteredDataForPCA`.`Feature_6` * 0.4311593109248494 + `CenteredDataForPCA`.`Feature_7` * -0.10623939522740035 + `CenteredDataForPCA`.`Feature_8` * 0.004192902519120928 + `CenteredDataForPCA`.`Feature_9` * -0.4798729265184412 AS caress_7, `CenteredDataForPCA`.`Feature_0` * 0.5345631681819778 + `CenteredDataForPCA`.`Feature_1` * 0.2916209104051029 + `CenteredDataForPCA`.`Feature_2` * 0.4273963159452305 + `CenteredDataForPCA`.`Feature_3` * -0.2195301363042834 + `CenteredDataForPCA`.`Feature_4` * -0.235065733216965 + `CenteredDataForPCA`.`Feature_5` * 0.1295961010443568 + `CenteredDataForPCA`.`Feature_6` * -0.3373404838354823 + `CenteredDataForPCA`.`Feature_7` * 0.1550843553371763 + `CenteredDataForPCA`.`Feature_8` * 0.2854751024551945 + `CenteredDataForPCA`.`Feature_9` * 0.3270191591377724 AS caress_8, `CenteredDataForPCA`.`Feature_0` * -0.20576264031153954 + `CenteredDataForPCA`.`Feature_1` * -0.5219691737923294 + `CenteredDataForPCA`.`Feature_2` * 0.13684123672633966 + `CenteredDataForPCA`.`Feature_3` * 0.3647679678800135 + `CenteredDataForPCA`.`Feature_4` * -0.18929276198960268 + `CenteredDataForPCA`.`Feature_5` * 0.0037962585710036296 + `CenteredDataForPCA`.`Feature_6` * -0.13849968946919305 + `CenteredDataForPCA`.`Feature_7` * 0.3714994807284352 + `CenteredDataForPCA`.`Feature_8` * 0.5761692179637907 + `CenteredDataForPCA`.`Feature_9` * -0.09174729308329248 AS caress_9, `CenteredDataForPCA`.`Feature_0` * -0.3524341935895437 + `CenteredDataForPCA`.`Feature_1` * 0.11384280389407207 + `CenteredDataForPCA`.`Feature_2` * 0.4841685255065708 + `CenteredDataForPCA`.`Feature_3` * -0.34450396457185595 + `CenteredDataForPCA`.`Feature_4` * 0.13513638852787307 + `CenteredDataForPCA`.`Feature_5` * 0.06196615865484219 + `CenteredDataForPCA`.`Feature_6` * -0.2481760916688339 + `CenteredDataForPCA`.`Feature_7` * 0.3131431762405683 + `CenteredDataForPCA`.`Feature_8` * -0.22130097895655432 + `CenteredDataForPCA`.`Feature_9` * -0.5282064175883499 AS caress_10, `CenteredDataForPCA`.`Feature_0` * -0.08652385384586475 + `CenteredDataForPCA`.`Feature_1` * -0.12532393280326345 + `CenteredDataForPCA`.`Feature_2` * -0.13876829299587293 + `CenteredDataForPCA`.`Feature_3` * -0.3573678421296348 + `CenteredDataForPCA`.`Feature_4` * -0.5134307179316465 + `CenteredDataForPCA`.`Feature_5` * 0.4744166307312994 + `CenteredDataForPCA`.`Feature_6` * 0.4651532505092017 + `CenteredDataForPCA`.`Feature_7` * 0.3151126875978981 + `CenteredDataForPCA`.`Feature_8` * -0.13476508291102593 + `CenteredDataForPCA`.`Feature_9` * 0.08562534266381946 AS caress_11 
FROM `CenteredDataForPCA`), 
linear_input AS 
(SELECT `ADS_car_1_OUT`.`KEY` AS `KEY`, CAST(`ADS_car_1_OUT`.caress_2 AS DOUBLE) AS caress_2, CAST(`ADS_car_1_OUT`.caress_3 AS DOUBLE) AS caress_3, CAST(`ADS_car_1_OUT`.caress_4 AS DOUBLE) AS caress_4, CAST(`ADS_car_1_OUT`.caress_5 AS DOUBLE) AS caress_5, CAST(`ADS_car_1_OUT`.caress_6 AS DOUBLE) AS caress_6, CAST(`ADS_car_1_OUT`.caress_7 AS DOUBLE) AS caress_7, CAST(`ADS_car_1_OUT`.caress_8 AS DOUBLE) AS caress_8, CAST(`ADS_car_1_OUT`.caress_9 AS DOUBLE) AS caress_9, CAST(`ADS_car_1_OUT`.caress_10 AS DOUBLE) AS caress_10, CAST(`ADS_car_1_OUT`.caress_11 AS DOUBLE) AS caress_11 
FROM `ADS_car_1_OUT`), 
linear_model_cte AS 
(SELECT linear_input.`KEY` AS `KEY`, 0.7190247012746656 * linear_input.caress_2 + -1.1858857149997055 * linear_input.caress_3 + 1.007894901484002 * linear_input.caress_4 + -3.118904939507354 * linear_input.caress_5 + -0.001165902458073636 * linear_input.caress_6 + 0.3722854641924292 * linear_input.caress_7 + 0.5069785382416607 * linear_input.caress_8 + -0.9729028490681684 * linear_input.caress_9 + -0.5367863159087188 * linear_input.caress_10 + -2.2531764487486377 * linear_input.caress_11 + 15.353763381860496 AS `Estimator` 
FROM linear_input)
 SELECT linear_model_cte.`KEY` AS `KEY`, linear_model_cte.`Estimator` AS `Estimator` 
FROM linear_model_cte